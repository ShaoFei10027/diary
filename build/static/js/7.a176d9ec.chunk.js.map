{"version":3,"file":"static/js/7.a176d9ec.chunk.js","mappings":"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","sources":["api/index.ts","api/fetch.ts","webpack://diary/./src/pages/components/card/index.less?ce8c","pages/components/card/index.tsx","webpack://diary/./src/pages/components/news/index.less?6f80","pages/components/news/index.tsx","pages/home/index.tsx","../node_modules/antd/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/antd/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/antd/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/antd/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js"],"sourcesContent":["import { get as fetchGet, post as fetchPost } from './fetch';\r\nimport { QuestionType } from './api.d';\r\ninterface ParamsType {\r\n  [propsName: string]: any;\r\n}\r\nconst baseUrl = 'http://localhost:9000';\r\nconst get = (url: string, params?: ParamsType) =>\r\n  fetchGet(baseUrl + url, params);\r\nconst post = (url: string, params?: ParamsType) =>\r\n  fetchPost(baseUrl + url, params);\r\n\r\nexport const login = (params: any) => post('/api/login', params);\r\nexport const checkLogin = () => get('/api/login');\r\nexport const logout = () => post('/api/logout');\r\nexport const getUser = () => get('/api/user');\r\n\r\nexport const getNews = () => get('/api/articles');\r\nexport const getArticle = (id: number) => get(`/api/article/${id}`);\r\nexport const publishArticle = (params: any) => post('/api/article', params);\r\n\r\nexport const getQuestions = () => get('/api/questions');\r\nexport const getQuestion = (id: number) => get(`/api/question/${id}`);\r\nexport const saveQuestion = (params: QuestionType) =>\r\n  post('/api/question', params);\r\n\r\nexport const getTranslateData = (params: any) =>\r\n  get('/api/getTranslateData', params);\r\nexport const updateTransDate = (params: any) =>\r\n  post('/api/updateTransDate', params);\r\nexport const getDulpTranslateData = () => get('/api/getDulpTranslateData');\r\n","import { message } from 'antd';\r\nimport { intl } from '@/locale';\r\ninterface ParamsType {\r\n  [propsName: string]: any;\r\n}\r\n//get请求封装\r\nexport const get = function (url: string, params: ParamsType = {}) {\r\n  let list = [];\r\n  for (let key in params) {\r\n    let str = `${key}=${params[key]}`;\r\n    list.push(str);\r\n  }\r\n  const data = list.join('&');\r\n  let allUrl = data ? `${url}?${data}` : url;\r\n  // debugger\r\n  return fetch(allUrl, { credentials: 'include' })\r\n    .then((res) => {\r\n      return res.json();\r\n    })\r\n    .catch((err) => {\r\n      message.error(intl.get('request_timeout'));\r\n      throw new Error(err);\r\n    });\r\n};\r\n// post请求封装\r\nexport const post = function (url: string, params: ParamsType = {}) {\r\n  const requestConfig = {\r\n    credentials: 'include',\r\n    method: 'POST',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      'Content-Type': 'application/json',\r\n    },\r\n    mode: 'cors',\r\n    cache: 'force-cache',\r\n    body: JSON.stringify(params),\r\n  };\r\n  // @ts-ignore\r\n  return fetch(url, requestConfig)\r\n    .then((res) => {\r\n      return res.json();\r\n    })\r\n    .catch((err) => {\r\n      message.error(intl.get('request_timeout'));\r\n      throw new Error(err);\r\n    });\r\n};\r\n","// extracted by mini-css-extract-plugin\nexport default {\"card\":\"index_card__503-P\"};","import React from 'react';\r\nimport { Card } from 'antd';\r\nimport styles from './index.less';\r\n\r\ninterface IProps {\r\n  title?: React.ReactNode;\r\n  extra?: React.ReactNode;\r\n  children?: React.ReactNode;\r\n  [propName: string]: any;\r\n}\r\nexport default function MyCard(props: IProps) {\r\n  const { title, extra, children, ...rest } = props;\r\n  return (\r\n    <Card className={styles.card} title={title} extra={extra} {...rest}>\r\n      {children}\r\n    </Card>\r\n  );\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport default {\"cardBody\":\"index_cardBody__WbZ8s\"};","import React, { useEffect, useState } from 'react';\r\nimport { intl } from '@/locale';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport Card from '@/pages/components/card';\r\nimport { getNews } from '@/api';\r\nimport { NewsType } from '@/api/api.d';\r\nimport styles from './index.less';\r\n\r\nexport default function News() {\r\n  const history = useNavigate();\r\n  const [list, setList] = useState<NewsType[]>([]);\r\n  useEffect(() => {\r\n    getNews().then((res) => {\r\n      if (res.success) {\r\n        const { list } = res.data;\r\n        setList(list);\r\n      }\r\n    });\r\n  }, []);\r\n  const onClick = (id: number) => history(`/articles/${id}`);\r\n  return (\r\n    <Card title={intl.get('Latest_articles')} extra={<a href=\"#\">more</a>}>\r\n      <div className={styles.cardBody}>\r\n        {list.map((item) => (\r\n          <p key={item.id} onClick={() => onClick(item.id)}>\r\n            {item.title}\r\n          </p>\r\n        ))}\r\n      </div>\r\n    </Card>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport News from '@/pages/components/news';\r\nimport { Collapse } from 'antd';\r\nimport styles from './index.less';\r\n\r\nconst Home: React.FC = () => {\r\n  return (\r\n    <div>\r\n      <div style={{ width: '400px' }}>\r\n        <News />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default Home;\r\n","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}"],"names":["baseUrl","get","url","params","list","key","str","push","data","join","allUrl","fetch","credentials","then","res","json","catch","err","message","intl","Error","fetchGet","post","requestConfig","method","headers","Accept","mode","cache","body","JSON","stringify","fetchPost","login","checkLogin","logout","getUser","getNews","getArticle","id","publishArticle","getQuestions","getQuestion","saveQuestion","getTranslateData","updateTransDate","getDulpTranslateData","MyCard","props","title","extra","children","rest","className","styles","News","history","useNavigate","useState","setList","useEffect","success","href","map","item","onClick","style","width","_iterableToArray","iter","Symbol","iterator","Array","from","_toConsumableArray","arr","isArray","arrayLikeToArray","iterableToArray","unsupportedIterableToArray","TypeError"],"sourceRoot":""}