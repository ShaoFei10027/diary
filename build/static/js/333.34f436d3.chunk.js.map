{"version":3,"file":"static/js/333.34f436d3.chunk.js","mappings":"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","sources":["api/index.ts","api/fetch.ts","webpack://diary/./src/pages/articles/index.less?fec4","pages/articles/index.tsx","../node_modules/rc-util/es/Children/toArray.js","../node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","../node_modules/rc-util/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/rc-util/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/rc-util/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/rc-util/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js"],"sourcesContent":["import { get as fetchGet, post as fetchPost } from './fetch';\r\nimport { QuestionType } from './api.d';\r\nimport { baseUrl } from '@/utils';\r\n\r\ninterface ParamsType {\r\n  [propsName: string]: any;\r\n}\r\n\r\nconst get = (url: string, params?: ParamsType) =>\r\n  fetchGet(baseUrl + url, params);\r\nconst post = (url: string, params?: ParamsType) =>\r\n  fetchPost(baseUrl + url, params);\r\n\r\nexport const login = (params: any) => post('/api/login', params);\r\nexport const checkLogin = () => get('/api/login');\r\nexport const logout = () => post('/api/logout');\r\nexport const getUser = () => get('/api/user');\r\n\r\nexport const getNews = () => get('/api/articles');\r\nexport const getArticle = (id: number) => get(`/api/article/${id}`);\r\nexport const publishArticle = (params: any) => post('/api/article', params);\r\n\r\nexport const getQuestions = () => get('/api/questions');\r\nexport const getQuestion = (id: number) => get(`/api/question/${id}`);\r\nexport const saveQuestion = (params: QuestionType) =>\r\n  post('/api/question', params);\r\n\r\nexport const getTranslateData = (params: any) =>\r\n  get('/api/getTranslateData', params);\r\nexport const updateTransDate = (params: any) =>\r\n  post('/api/updateTransDate', params);\r\nexport const getDulpTranslateData = () => get('/api/getDulpTranslateData');\r\n","import { message } from 'antd';\r\nimport { intl } from '@/locale';\r\ninterface ParamsType {\r\n  [propsName: string]: any;\r\n}\r\n//get请求封装\r\nexport const get = function (url: string, params: ParamsType = {}) {\r\n  let list = [];\r\n  for (let key in params) {\r\n    let str = `${key}=${params[key]}`;\r\n    list.push(str);\r\n  }\r\n  const data = list.join('&');\r\n  let allUrl = data ? `${url}?${data}` : url;\r\n  // debugger\r\n  return fetch(allUrl, { credentials: 'include' })\r\n    .then((res) => {\r\n      return res.json();\r\n    })\r\n    .catch((err) => {\r\n      message.error(intl.get('request_timeout'));\r\n      throw new Error(err);\r\n    });\r\n};\r\n// post请求封装\r\nexport const post = function (url: string, params: ParamsType = {}) {\r\n  const requestConfig = {\r\n    credentials: 'include',\r\n    method: 'POST',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      'Content-Type': 'application/json',\r\n    },\r\n    mode: 'cors',\r\n    cache: 'force-cache',\r\n    body: JSON.stringify(params),\r\n  };\r\n  // @ts-ignore\r\n  return fetch(url, requestConfig)\r\n    .then((res) => {\r\n      return res.json();\r\n    })\r\n    .catch((err) => {\r\n      message.error(intl.get('request_timeout'));\r\n      throw new Error(err);\r\n    });\r\n};\r\n","// extracted by mini-css-extract-plugin\nexport default {\"page\":\"index_page__1aztz\",\"title\":\"index_title__a0hkd\",\"desc\":\"index_desc__bRRlL\",\"content\":\"index_content__q7EgT\"};","import React, { useLayoutEffect, useState } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport { getArticle } from '@/api';\r\nimport { NewsType } from '@/api/api.d';\r\nimport styles from './index.less';\r\n\r\nexport default function Articles() {\r\n  const { id } = useParams();\r\n  const [article, setArticle] = useState<NewsType>();\r\n  useLayoutEffect(() => {\r\n    getArticle(Number(id)).then((res) => {\r\n      if (res.success) {\r\n        setArticle(res.data);\r\n      }\r\n    });\r\n  }, []);\r\n  return article ? (\r\n    <div className={styles.page}>\r\n      <h3 className={styles.title}>{article.title}</h3>\r\n      <p className={styles.desc}>{article.description}</p>\r\n      <div\r\n        className={styles.content}\r\n        dangerouslySetInnerHTML={{ __html: article.content }}\r\n      ></div>\r\n    </div>\r\n  ) : (\r\n    <div>loading</div>\r\n  );\r\n}\r\n","import React from 'react';\nimport { isFragment } from 'react-is';\nexport default function toArray(children) {\n  var option = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var ret = [];\n  React.Children.forEach(children, function (child) {\n    if ((child === undefined || child === null) && !option.keepEmpty) {\n      return;\n    }\n\n    if (Array.isArray(child)) {\n      ret = ret.concat(toArray(child));\n    } else if (isFragment(child) && child.props) {\n      ret = ret.concat(toArray(child.props.children, option));\n    } else {\n      ret.push(child);\n    }\n  });\n  return ret;\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}"],"names":["get","url","params","list","key","str","push","data","join","allUrl","fetch","credentials","then","res","json","catch","err","message","intl","Error","fetchGet","baseUrl","post","requestConfig","method","headers","Accept","mode","cache","body","JSON","stringify","fetchPost","login","checkLogin","logout","getUser","getNews","getArticle","id","publishArticle","getQuestions","getQuestion","saveQuestion","getTranslateData","updateTransDate","getDulpTranslateData","Articles","useParams","useState","article","setArticle","useLayoutEffect","Number","success","className","styles","title","description","dangerouslySetInnerHTML","__html","content","toArray","children","option","arguments","length","undefined","ret","React","child","keepEmpty","Array","isArray","concat","isFragment","props","_iterableToArray","iter","Symbol","iterator","from","_toConsumableArray","arr","arrayLikeToArray","iterableToArray","unsupportedIterableToArray","TypeError"],"sourceRoot":""}